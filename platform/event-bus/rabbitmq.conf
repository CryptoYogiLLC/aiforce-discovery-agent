# =============================================================================
# RabbitMQ Configuration for AIForce Discovery Agent
# =============================================================================

# Load definitions from JSON file on startup
# This creates exchanges, queues, and bindings automatically
load_definitions = /etc/rabbitmq/definitions.json

# Management Plugin
management.tcp.port = 15672
management.cors.allow_origins.1 = *

# Logging
log.console = true
log.console.level = info

# Resource Limits
vm_memory_high_watermark.relative = 0.7
disk_free_limit.relative = 1.5

# Connection Settings
heartbeat = 60

# Consumer prefetch is set per-channel via consumer_prefetch in queue arguments
# or by the consuming application

# Message TTL for dead letter queues (7 days)
# Note: Applied per-queue in definitions.json if needed
