# Discovery Agent Environment Configuration Template
# Reference: GitHub Issue #60
#
# Copy this file to .env and update the values before starting services.
# IMPORTANT: Never commit .env files with actual secrets to version control.
#
# Usage:
#   cp .env.template .env
#   vim .env  # Update with secure values
#   docker-compose up -d

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL credentials
POSTGRES_USER=discovery
POSTGRES_PASSWORD=CHANGE_ME_USE_SECURE_PASSWORD
POSTGRES_DB=discovery
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# =============================================================================
# MESSAGE QUEUE CONFIGURATION
# =============================================================================

# RabbitMQ credentials
RABBITMQ_DEFAULT_USER=discovery
RABBITMQ_DEFAULT_PASS=CHANGE_ME_USE_SECURE_PASSWORD
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_MANAGEMENT_PORT=15672

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# JWT secret for API authentication (generate with: openssl rand -hex 32)
JWT_SECRET=GENERATE_A_64_CHARACTER_HEX_STRING_HERE

# Session secret for cookie signing (generate with: openssl rand -hex 32)
SESSION_SECRET=GENERATE_ANOTHER_64_CHARACTER_HEX_STRING

# Password hashing parameters (Argon2id - leave defaults unless you need to adjust)
ARGON2_MEMORY_COST=65536
ARGON2_TIME_COST=3
ARGON2_PARALLELISM=4

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# Allowed origins for CORS (comma-separated if multiple)
CORS_ORIGIN=http://localhost:3000

# =============================================================================
# SERVICE PORTS
# =============================================================================

# Collector services
NETWORK_SCANNER_PORT=8001
CODE_ANALYZER_PORT=8002
DB_INSPECTOR_PORT=8003

# Processing services
ENRICHMENT_PORT=8010
PII_REDACTOR_PORT=8011
SCORING_PORT=8012

# Gateway services
APPROVAL_API_PORT=3001
APPROVAL_UI_PORT=3000
TRANSMITTER_PORT=8020

# =============================================================================
# EXTERNAL API CONFIGURATION (Optional)
# =============================================================================

# AIForce Assess API configuration
# Leave empty if not transmitting to external API
AIFORCE_API_URL=
AIFORCE_API_KEY=
AIFORCE_API_TIMEOUT=30000

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable transmission to external API
TRANSMISSION_ENABLED=false

# Enable/disable dry-run mode features
DRYRUN_ENABLED=true

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level: debug, info, warn, error
LOG_LEVEL=info

# Log format: json, text
LOG_FORMAT=json

# =============================================================================
# REDIS CONFIGURATION (for caching and rate limiting)
# =============================================================================

REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=

# =============================================================================
# TLS CONFIGURATION (for production)
# =============================================================================

# Enable TLS for services (true/false)
TLS_ENABLED=false

# Paths to TLS certificates (required if TLS_ENABLED=true)
TLS_CERT_PATH=
TLS_KEY_PATH=
TLS_CA_PATH=
